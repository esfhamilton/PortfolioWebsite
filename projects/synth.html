<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Insert site description here">
        
        <!--<link rel="stylesheet" type="text/css" href="vendors/css/normalize.css"> 
        <link rel="stylesheet" type="text/css" href="vendors/css/Grid.css"> 
        <link rel="stylesheet" type="text/css" href="vendors/css/animate.css">     
        <link rel="stylesheet" type="text/css" href="resources/css/queries.css">-->
        <link rel="stylesheet" type="text/css" href="../resources/css/webfonts/stylesheet.css">
        <link rel="stylesheet" type="text/css" href="../resources/css/style.css">
        
        <title>Synth Labs</title>
    </head>
    <body>
        <header>
            <nav>
                 <ul class="nav-list js--nav-list">
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../projects.html">Projects</a></li>
                    <li><a href="../more.html">More</a></li>
                </ul>
                
                <!-- SAVE FOR MOBILE USAGE<a class="js--nav-icon"><i class="icon ion-md-menu nav-icon"></i></a> -->
            </nav>
        </header>
        <!--<a href ="#"><ion-icon class = "icon-home" name="home"></ion-icon></a>-->
        
        <br><h1>Synth Labs</h1>
        <div class="main">
            <p>Currently in development- Using Tone.js to create a synth machine<br><br>Try pressing some different keys</p>
        </div>
        
        
        <script src="https://unpkg.com/@webcomponents/webcomponentsjs@^2/webcomponents-bundle.js"></script>
        <script src="https://unpkg.com/tone"></script>
        <script src="https://unpkg.com/@tonejs/ui"></script>

        <script>
            /*let loopBeat;
            let bassSynth;*/
            
            function setup() {
                bassSynth = new Tone.MembraneSynth().toMaster();
                
                loopBeat = new Tone.Loop(song, '4n');
                
                //Tone.Transport.bpm.value = 140;
                Tone.Transport.start();
                loopBeat.start(0);
            }
            
            /*function song(time) {
                bassSynth.triggerAttackRelease('G3', '8n', time);
            }*/
            
            let mappings = {90:'C1',88:'D1',67:'E1',86:'F1',66:'G1',78:'A1',77:'B1',
                            65:'C2',83:'D2',68:'E2',70:'F2',71:'G2',72:'A2',74:'B2',
                            81:'C3',87:'D3',69:'E3',82:'F3',84:'G3',89:'A3',85:'B3'}
            let bassSynth = new Tone.MembraneSynth().toMaster();
            document.addEventListener('keydown', function(e) {
                // Get value of key code from keys
                let key = e.keyCode;
                console.log(key);
                bassSynth.triggerAttackRelease(mappings[key], '4n');
            })
            
            //setup();
            //song(10);
        </script>
        
<!--    DELETE THIS FILE IF NOT NEEDED
        <script src="js/dragndrop.js"></script>
-->

    </body>
</html>




